
<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hadiah Digital Zah</title>
  <style>
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Courier New', monospace;
      background-color: black;
      color: #00ff99;
      overflow-x: hidden;
    }
    .page { display: none; padding: 2rem; text-align: center; }
    .active { display: block; }
    .fireworks { position: fixed; width: 100%; height: 100%; z-index: 1; pointer-events: none; }
    .title { z-index: 2; position: absolute; top: 40%; width: 100%; font-size: 1.5rem; white-space: nowrap; text-align: center; }
    .message-box {
      border: 2px dotted #00ff99;
      padding: 1rem;
      background-color: #001f1f;
      margin-bottom: 1rem;
    }
    .audio-player {
      border-radius: 10px;
      padding: 1rem;
      background-color: #111;
      box-shadow: 0 0 20px #00ff99;
      width: 90%; max-width: 400px;
      margin: auto;
    }
    .cover { width: 100%; max-height: 200px; object-fit: cover; border-radius: 8px; margin-bottom: 1rem; }
    button {
      background-color: #00ff99;
      color: black;
      border: none;
      padding: 1rem 2rem;
      border-radius: 8px;
      margin-top: 2rem;
      font-size: 1rem;
    }
    iframe { width: 100%; max-width: 315px; aspect-ratio: 9/16; border-radius: 10px; }
  </style>
</head>
<body>
  <div class="page active" id="page1">
    <canvas class="fireworks" id="fireworks"></canvas>
    <div class="title">
      <h2 id="typing-text">barokallah fii umrik nilna</h2>
      <p>Tap untuk membuka hadiah digitalmu...</p>
    </div>
  </div>
  <div class="page" id="page2">
    <div class="message-box">
      <p>
        barokallah fii umrik ya zah..zizah üôèüòÇ<br><br>
        17 agustus ini bukan cuma hari kemerdekaan negara ygy wkwk tapi juga hari lahir org yg luar biasa..asekk üòÇ apasi bahasanya.. spesial limited gasi wkwk<br>
        semoga Allah tambahin berkah umurnya.. diluaskan dan dicukupkan rezekinya.. ditenangkan pikirannya.. dibahagiakan hatinya.. Allah kabulkan semua doanya.. semua hajatnya.. dimudahkan semua urusannya.. semoga makin mutqin hafalanya.. tambah istiqomah murojaahnya wkwk eh iya pas itu barusan gelondong ya kan? khatamn bu mudah, aku liat status bpk lah kok wkwk batiba khataman.. emang beda si bro satu ini.. semoga nular dah ya Allah aamiin üò≠ semoga ilmunya tambah manfaat barokah.. semoga hmm apalagi ya...
      </p>
    </div>
    <div style="margin-bottom: 1rem;">‚¨áÔ∏è Gulir ke bawah untuk dengar musik üé∂</div>
    <div class="audio-player">
      <img src="cover.jpg" alt="cover lagu" class="cover" />
      <div><strong>About You</strong></div>
      <audio controls>
        <source src="aboutyou.mp3" type="audio/mpeg">
        Browsermu tidak mendukung pemutar audio.
      </audio>
    </div>
    <button onclick="nextPage()">üéÅ Buka Hadiah Lagi</button>
  </div>
  <div class="page" id="page3">
    <h2>üéÇ Tiup lilinnya ya!</h2>
    <div style="max-width: 315px; margin: auto;">
      <iframe src="https://www.youtube.com/embed/TwyID5BaA78" 
        title="Birthday cake" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        allowfullscreen></iframe>
    </div>
    <audio id="happySong" src="hbd.mp3"></audio>
    <button onclick="initBlow()">Tiup lilin!</button>
  </div>
  <script>
    const canvas = document.getElementById("fireworks");
    const ctx = canvas.getContext("2d");
    let fireworks = [];
    function resizeCanvas() { canvas.width = window.innerWidth; canvas.height = window.innerHeight; }
    window.addEventListener("resize", resizeCanvas);
    resizeCanvas();
    function Firework() {
      this.x = Math.random() * canvas.width;
      this.y = canvas.height;
      this.radius = Math.random() * 3 + 1;
      this.color = `hsl(${Math.random() * 360}, 100%, 50%)`;
      this.vx = Math.random() * 6 - 3;
      this.vy = Math.random() * -7 - 5;
      this.alpha = 1;
      this.update = function() {
        this.x += this.vx; this.y += this.vy; this.alpha -= 0.01;
      }
      this.draw = function() {
        ctx.globalAlpha = this.alpha;
        ctx.beginPath();
        ctx.arc(this.x, this.y, this.radius, 0, Math.PI * 2);
        ctx.fillStyle = this.color;
        ctx.fill(); ctx.globalAlpha = 1;
      }
    }
    function animate() {
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      if (Math.random() < 0.1) fireworks.push(new Firework());
      fireworks = fireworks.filter(f => f.alpha > 0);
      fireworks.forEach(f => { f.update(); f.draw(); });
      requestAnimationFrame(animate);
    }
    animate();
    document.body.addEventListener("click", () => {
      document.getElementById("page1").classList.remove("active");
      document.getElementById("page2").classList.add("active");
    }, { once: true });
    function nextPage() {
      document.getElementById("page2").classList.remove("active");
      document.getElementById("page3").classList.add("active");
      document.getElementById("happySong").play();
    }
    function initBlow() {
      navigator.mediaDevices.getUserMedia({ audio: true })
        .then(stream => {
          const ctx = new (window.AudioContext || window.webkitAudioContext)();
          const src = ctx.createMediaStreamSource(stream);
          const analyser = ctx.createAnalyser();
          src.connect(analyser);
          const data = new Uint8Array(analyser.frequencyBinCount);
          function detect() {
            analyser.getByteFrequencyData(data);
            const volume = data.reduce((a,b)=>a+b)/data.length;
            if (volume > 80) {
              alert("Lilinnya padam! üéâ");
              stream.getTracks().forEach(t=>t.stop());
            } else requestAnimationFrame(detect);
          }
          detect();
        })
        .catch(() => alert("Izinkan akses mikrofon dulu ya!"));
    }
  </script>
</body>
</html>

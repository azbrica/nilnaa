<!DOCTYPE html>
<html lang="id">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Hadiah Ulang Tahun</title>
  <style>
    body {{ margin: 0; font-family: monospace; background: black; color: #0f0; text-align: center; }}
    .page {{ display: none; padding: 2rem; }}
    .active {{ display: block; }}
    .button {{ background: #0f0; color: black; padding: 1rem; border-radius: 10px; cursor: pointer; }}
  </style>
</head>
<body>
  <div id="page1" class="page active">
    <h1>🎉 Happy Birthday, Zah!</h1>
    <p>Tap untuk membuka hadiah digitalmu...</p>
    <button onclick="nextPage()">Buka Hadiah 🎁</button>
  </div>

  <div id="page2" class="page">
    <div style="border: 2px dashed #0f0; padding: 1rem; background: #002200; border-radius: 15px;">
      <p>barokallah fii umrik ya zah 😂<br><br>
17 agustus ini bukan cuma hari kemerdekaan negara ygy wkwk tapi juga hari lahir org yg luar biasa..asekk 😂 apasi bahasanya.. spesial limited gasi wkwk<br>
semoga Allah tambahin berkah umurnya.. diluaskan dan dicukupkan rezekinya.. ditenangkan pikirannya.. dibahagiakan hatinya.. Allah kabulkan semua doanya.. semua hajatnya.. dimudahkan semua urusannya.. semoga makin mutqin hafalanya.. tambah istiqomah murojaahnya wkwk eh iya pas itu barusan gelondong ya kan? khatamn bu mudah, aku liat status bpk lah kok wkwk batiba khataman.. emang beda si bro satu ini.. semoga nular dah ya Allah aamiin 😭 semoga ilmunya tambah manfaat barokah.. semoga hmm apalagi ya 😂 ya...
pokonya semoga semuanya baik² aja lah ya..trus sehat sehat dah aamiin.. 🤲</p>
    </div>
    <p>⬇️ Gulir ke bawah untuk dengar musik 🎶</p>
    <div style="margin-top: 2rem; background: black; padding: 1rem; border-radius: 15px;">
      <img src="cover.jpg" alt="Cover" style="width: 100%; max-width: 300px; border-radius: 10px;"><br>
      <p>About You</p>
      <audio controls>
        <source src="aboutyou.mp3" type="audio/mp3">
        Browser kamu tidak mendukung audio.
      </audio>
    </div>
    <div style="margin-top: 2rem;">
      <button class="button" onclick="nextPage()">🎂 Buka kue ulang tahun</button>
    </div>
  </div>

  <div id="page3" class="page">
    <h2>🎂 Tiup lilinnya ya!</h2>
    <canvas id="cakeCanvas" width="300" height="300"></canvas>
    <p id="blowMsg"></p>
    <audio id="hbdSong">
      <source src="lagu-hbd.mp3" type="audio/mp3">
    </audio>
    <button onclick="playHBD()" class="button">Putar Lagu HBD 🎵</button>
  </div>

  <script>
    let currentPage = 1;
    function nextPage() {{
      document.getElementById('page' + currentPage).classList.remove('active');
      currentPage++;
      document.getElementById('page' + currentPage).classList.add('active');
    }}
    function playHBD() {{
      document.getElementById('hbdSong').play();
    }}
    const canvas = document.getElementById('cakeCanvas');
    const ctx = canvas.getContext('2d');
    function drawCandle(flame = true) {{
      ctx.clearRect(0, 0, canvas.width, canvas.height);
      ctx.fillStyle = "#8B4513"; ctx.fillRect(130, 150, 40, 100);
      ctx.fillStyle = "#FFF"; ctx.fillRect(145, 130, 10, 20);
      if (flame) {{ ctx.beginPath(); ctx.arc(150, 120, 8, 0, Math.PI*2); ctx.fillStyle = "orange"; ctx.fill(); }}
    }}
    drawCandle(true);
    navigator.mediaDevices.getUserMedia({{ audio: true }}).then(stream => {{
      const ctxA = new (window.AudioContext || window.webkitAudioContext)();
      const mic = ctxA.createMediaStreamSource(stream);
      const analyser = ctxA.createAnalyser(); mic.connect(analyser);
      analyser.fftSize = 512; const data = new Uint8Array(analyser.frequencyBinCount);
      function detect() {{
        analyser.getByteFrequencyData(data);
        let vol = data.reduce((a,b) => a+b)/data.length;
        if (vol > 50) {{ drawCandle(false); document.getElementById('blowMsg').innerText = "🎉 Lilin berhasil ditiup!"; }}
        requestAnimationFrame(detect);
      }}
      detect();
    }}).catch(err => {{
      document.getElementById('blowMsg').innerText = "🎤 Aktifkan mikrofon untuk tiup lilin!";
    }});
  </script>
</body>
</html>
